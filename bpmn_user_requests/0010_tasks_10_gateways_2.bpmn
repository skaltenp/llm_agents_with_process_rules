<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_1" targetNamespace="http://example.com/bpmn" exporter="Camunda Modeler" exporterVersion="5.32.0">
  <collaboration id="Collaboration_05qwxdf">
    <participant id="Participant_1eg2vcd" name="Power Grid Provider" processRef="Process_StoragePrep" />
    <textAnnotation id="TextAnnotation_1ll27c6">
      <text>IDOC_ID "789456"
Segment "E1EDP01" Key "MATNR"</text>
    </textAnnotation>
    <textAnnotation id="TextAnnotation_1ojrepn">
      <text>IDOC_ID "789456"
Segment "E1EDP01"
Key "LGORT"</text>
    </textAnnotation>
    <association id="Association_0cn8vqe" associationDirection="None" sourceRef="Task_3" targetRef="TextAnnotation_1ll27c6" />
    <association id="Association_1dyivvl" associationDirection="None" sourceRef="Activity_1jxq2ei" targetRef="TextAnnotation_1ojrepn" />
  </collaboration>
  <process id="Process_StoragePrep" name="Storage Preparation Process" isExecutable="true">
    <laneSet id="LaneSet_02j9svn">
      <lane id="Lane_0fyjk8p" name="LLM Agent">
        <flowNodeRef>Activity_1jxq2ei</flowNodeRef>
        <flowNodeRef>Activity_088dfgs</flowNodeRef>
        <flowNodeRef>Event_15pdwwg</flowNodeRef>
        <flowNodeRef>Gateway_0yxb253</flowNodeRef>
        <flowNodeRef>Task_3</flowNodeRef>
        <flowNodeRef>Task_4a</flowNodeRef>
        <flowNodeRef>Activity_1lbzc4x</flowNodeRef>
        <flowNodeRef>Activity_0w6ytd8</flowNodeRef>
        <flowNodeRef>Gateway_0rexc8n</flowNodeRef>
        <flowNodeRef>Gateway_0tiu252</flowNodeRef>
        <flowNodeRef>Event_0v51rko</flowNodeRef>
        <flowNodeRef>Activity_1bz30ju</flowNodeRef>
        <flowNodeRef>Activity_06fzrz2</flowNodeRef>
        <flowNodeRef>Event_0lliwrl</flowNodeRef>
        <flowNodeRef>Activity_0a79x5f</flowNodeRef>
        <flowNodeRef>Gateway_1tq40ho</flowNodeRef>
        <flowNodeRef>Activity_1jfwlil</flowNodeRef>
      </lane>
      <lane id="Lane_0606isy" name="Error Handler 1">
        <flowNodeRef>Event_159lgm9</flowNodeRef>
        <flowNodeRef>Activity_0e3pp4d</flowNodeRef>
        <flowNodeRef>Event_0q8esd1</flowNodeRef>
      </lane>
    </laneSet>
    <task id="Activity_1jxq2ei" name="Get the &#60;storage_ location_ID&#62; from IDoc">
      <incoming>Flow_17wafri</incoming>
      <outgoing>Flow_0jnfvhf</outgoing>
    </task>
    <task id="Activity_088dfgs" name="Get storage locations in plant 1540">
      <incoming>Flow_0jnfvhf</incoming>
      <outgoing>Flow_1wls5hb</outgoing>
    </task>
    <startEvent id="Event_15pdwwg">
      <outgoing>Flow_0heh6oc</outgoing>
    </startEvent>
    <exclusiveGateway id="Gateway_0yxb253">
      <incoming>Flow_0b4rf1g</incoming>
      <outgoing>Flow_1w017za</outgoing>
      <outgoing>Flow_19tjgf0</outgoing>
      <outgoing>Flow_0dnz9ko</outgoing>
    </exclusiveGateway>
    <task id="Task_3" name="Get the &#60;material_id&#62; from IDoc">
      <incoming>Flow_0heh6oc</incoming>
      <outgoing>Flow_17wafri</outgoing>
    </task>
    <task id="Task_4a" name="Get materials for all storage locations in plant 1540">
      <incoming>Flow_1wls5hb</incoming>
      <outgoing>Flow_1hnp4s2</outgoing>
    </task>
    <task id="Activity_1lbzc4x" name="Identify &#60;material_id&#62; in SAP storage locations">
      <incoming>Flow_1hnp4s2</incoming>
      <outgoing>Flow_0b4rf1g</outgoing>
    </task>
    <task id="Activity_0w6ytd8" name="Request help from error.handler1@company.com">
      <incoming>Flow_1w017za</incoming>
      <outgoing>Flow_0j8iom6</outgoing>
    </task>
    <exclusiveGateway id="Gateway_0rexc8n" name="&#60;storage_location_id&#62; exists?">
      <incoming>Flow_19tjgf0</incoming>
      <outgoing>Flow_0cpnbvk</outgoing>
      <outgoing>Flow_0iua7vp</outgoing>
    </exclusiveGateway>
    <exclusiveGateway id="Gateway_0tiu252">
      <incoming>Flow_1e09fhc</incoming>
      <incoming>Flow_0dnz9ko</incoming>
      <outgoing>Flow_061ua4b</outgoing>
    </exclusiveGateway>
    <intermediateThrowEvent id="Event_0v51rko">
      <incoming>Flow_0j8iom6</incoming>
      <outgoing>Flow_0uu5ji9</outgoing>
      <messageEventDefinition id="MessageEventDefinition_1fptnhf" />
    </intermediateThrowEvent>
    <task id="Activity_1bz30ju" name="Reinitialize IDoc">
      <incoming>Flow_061ua4b</incoming>
      <outgoing>Flow_0rokuir</outgoing>
    </task>
    <task id="Activity_06fzrz2" name="Send email report to audit@company.com">
      <incoming>Flow_0rokuir</incoming>
      <outgoing>Flow_09p1m2g</outgoing>
    </task>
    <endEvent id="Event_0lliwrl">
      <incoming>Flow_09p1m2g</incoming>
    </endEvent>
    <task id="Activity_0a79x5f" name="Move &#60;material_id&#62; to &#60;storage_location_id&#62;">
      <incoming>Flow_04a47uz</incoming>
      <outgoing>Flow_1e09fhc</outgoing>
    </task>
    <exclusiveGateway id="Gateway_1tq40ho">
      <incoming>Flow_09sbk0y</incoming>
      <incoming>Flow_0cpnbvk</incoming>
      <outgoing>Flow_04a47uz</outgoing>
    </exclusiveGateway>
    <task id="Activity_1jfwlil" name="Create &#60;storage_location_id&#62;">
      <incoming>Flow_0iua7vp</incoming>
      <outgoing>Flow_09sbk0y</outgoing>
    </task>
    <sequenceFlow id="Flow_17wafri" sourceRef="Task_3" targetRef="Activity_1jxq2ei" />
    <sequenceFlow id="Flow_0jnfvhf" sourceRef="Activity_1jxq2ei" targetRef="Activity_088dfgs" />
    <sequenceFlow id="Flow_1wls5hb" sourceRef="Activity_088dfgs" targetRef="Task_4a" />
    <sequenceFlow id="Flow_0heh6oc" sourceRef="Event_15pdwwg" targetRef="Task_3" />
    <sequenceFlow id="Flow_0b4rf1g" sourceRef="Activity_1lbzc4x" targetRef="Gateway_0yxb253" />
    <sequenceFlow id="Flow_1w017za" name="&#60;material_id&#62; not existing" sourceRef="Gateway_0yxb253" targetRef="Activity_0w6ytd8" />
    <sequenceFlow id="Flow_19tjgf0" name="&#60;material_id&#62; in another location" sourceRef="Gateway_0yxb253" targetRef="Gateway_0rexc8n" />
    <sequenceFlow id="Flow_0dnz9ko" name="&#60;material_id&#62; in &#60;storage_location_id&#62;" sourceRef="Gateway_0yxb253" targetRef="Gateway_0tiu252" />
    <sequenceFlow id="Flow_1hnp4s2" sourceRef="Task_4a" targetRef="Activity_1lbzc4x" />
    <sequenceFlow id="Flow_0j8iom6" sourceRef="Activity_0w6ytd8" targetRef="Event_0v51rko" />
    <sequenceFlow id="Flow_0cpnbvk" name="yes" sourceRef="Gateway_0rexc8n" targetRef="Gateway_1tq40ho" />
    <sequenceFlow id="Flow_0iua7vp" name="no" sourceRef="Gateway_0rexc8n" targetRef="Activity_1jfwlil" />
    <sequenceFlow id="Flow_1e09fhc" sourceRef="Activity_0a79x5f" targetRef="Gateway_0tiu252" />
    <sequenceFlow id="Flow_061ua4b" sourceRef="Gateway_0tiu252" targetRef="Activity_1bz30ju" />
    <sequenceFlow id="Flow_0rokuir" sourceRef="Activity_1bz30ju" targetRef="Activity_06fzrz2" />
    <sequenceFlow id="Flow_09p1m2g" sourceRef="Activity_06fzrz2" targetRef="Event_0lliwrl" />
    <sequenceFlow id="Flow_04a47uz" sourceRef="Gateway_1tq40ho" targetRef="Activity_0a79x5f" />
    <sequenceFlow id="Flow_09sbk0y" sourceRef="Activity_1jfwlil" targetRef="Gateway_1tq40ho" />
    <sequenceFlow id="Flow_0uu5ji9" sourceRef="Event_0v51rko" targetRef="Event_159lgm9" />
    <intermediateCatchEvent id="Event_159lgm9">
      <incoming>Flow_0uu5ji9</incoming>
      <outgoing>Flow_0gnyqhd</outgoing>
      <messageEventDefinition id="MessageEventDefinition_0ek70py" />
    </intermediateCatchEvent>
    <task id="Activity_0e3pp4d" name="Handle error manually">
      <incoming>Flow_0gnyqhd</incoming>
      <outgoing>Flow_0lob1wg</outgoing>
    </task>
    <sequenceFlow id="Flow_0gnyqhd" sourceRef="Event_159lgm9" targetRef="Activity_0e3pp4d" />
    <endEvent id="Event_0q8esd1">
      <incoming>Flow_0lob1wg</incoming>
    </endEvent>
    <sequenceFlow id="Flow_0lob1wg" sourceRef="Activity_0e3pp4d" targetRef="Event_0q8esd1" />
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_05qwxdf">
      <bpmndi:BPMNShape id="Participant_1eg2vcd_di" bpmnElement="Participant_1eg2vcd" isHorizontal="true">
        <omgdc:Bounds x="140" y="80" width="2030" height="670" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0606isy_di" bpmnElement="Lane_0606isy" isHorizontal="true">
        <omgdc:Bounds x="170" y="80" width="2000" height="120" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0fyjk8p_di" bpmnElement="Lane_0fyjk8p" isHorizontal="true">
        <omgdc:Bounds x="170" y="200" width="2000" height="550" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1jxq2ei_di" bpmnElement="Activity_1jxq2ei">
        <omgdc:Bounds x="410" y="400" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_088dfgs_di" bpmnElement="Activity_088dfgs">
        <omgdc:Bounds x="550" y="400" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_15pdwwg_di" bpmnElement="Event_15pdwwg">
        <omgdc:Bounds x="192" y="422" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0yxb253_di" bpmnElement="Gateway_0yxb253" isMarkerVisible="true">
        <omgdc:Bounds x="1015" y="415" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="998" y="375" width="84" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_098tayi_di" bpmnElement="Task_3">
        <omgdc:Bounds x="270" y="400" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0b1u6of_di" bpmnElement="Task_4a">
        <omgdc:Bounds x="690" y="400" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1lbzc4x_di" bpmnElement="Activity_1lbzc4x">
        <omgdc:Bounds x="850" y="400" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0w6ytd8_di" bpmnElement="Activity_0w6ytd8">
        <omgdc:Bounds x="1230" y="220" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0rexc8n_di" bpmnElement="Gateway_0rexc8n" isMarkerVisible="true">
        <omgdc:Bounds x="1255" y="543" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="1236" y="505.5" width="88" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0tiu252_di" bpmnElement="Gateway_0tiu252" isMarkerVisible="true">
        <omgdc:Bounds x="1623" y="543" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_19mz5q9_di" bpmnElement="Event_0v51rko">
        <omgdc:Bounds x="1442" y="242" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1bz30ju_di" bpmnElement="Activity_1bz30ju">
        <omgdc:Bounds x="1750" y="528" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_06fzrz2_di" bpmnElement="Activity_06fzrz2">
        <omgdc:Bounds x="1930" y="528" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0lliwrl_di" bpmnElement="Event_0lliwrl">
        <omgdc:Bounds x="2112" y="550" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0a79x5f_di" bpmnElement="Activity_0a79x5f">
        <omgdc:Bounds x="1500" y="528" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1tq40ho_di" bpmnElement="Gateway_1tq40ho" isMarkerVisible="true">
        <omgdc:Bounds x="1415" y="543" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1jfwlil_di" bpmnElement="Activity_1jfwlil">
        <omgdc:Bounds x="1390" y="650" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1skqvc2_di" bpmnElement="Event_159lgm9">
        <omgdc:Bounds x="1442" y="122" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0e3pp4d_di" bpmnElement="Activity_0e3pp4d">
        <omgdc:Bounds x="1530" y="100" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0q8esd1_di" bpmnElement="Event_0q8esd1">
        <omgdc:Bounds x="1682" y="122" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_17wafri_di" bpmnElement="Flow_17wafri">
        <omgdi:waypoint x="370" y="440" />
        <omgdi:waypoint x="410" y="440" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0jnfvhf_di" bpmnElement="Flow_0jnfvhf">
        <omgdi:waypoint x="510" y="440" />
        <omgdi:waypoint x="550" y="440" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wls5hb_di" bpmnElement="Flow_1wls5hb">
        <omgdi:waypoint x="650" y="440" />
        <omgdi:waypoint x="690" y="440" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0heh6oc_di" bpmnElement="Flow_0heh6oc">
        <omgdi:waypoint x="228" y="440" />
        <omgdi:waypoint x="270" y="440" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0b4rf1g_di" bpmnElement="Flow_0b4rf1g">
        <omgdi:waypoint x="950" y="440" />
        <omgdi:waypoint x="1015" y="440" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1w017za_di" bpmnElement="Flow_1w017za">
        <omgdi:waypoint x="1040" y="415" />
        <omgdi:waypoint x="1040" y="260" />
        <omgdi:waypoint x="1230" y="260" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="1047" y="276" width="85" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19tjgf0_di" bpmnElement="Flow_19tjgf0">
        <omgdi:waypoint x="1040" y="465" />
        <omgdi:waypoint x="1040" y="568" />
        <omgdi:waypoint x="1255" y="568" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="1016" y="541" width="79" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dnz9ko_di" bpmnElement="Flow_0dnz9ko">
        <omgdi:waypoint x="1065" y="440" />
        <omgdi:waypoint x="1648" y="440" />
        <omgdi:waypoint x="1648" y="543" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="1316" y="422" width="82" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hnp4s2_di" bpmnElement="Flow_1hnp4s2">
        <omgdi:waypoint x="790" y="440" />
        <omgdi:waypoint x="850" y="440" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0j8iom6_di" bpmnElement="Flow_0j8iom6">
        <omgdi:waypoint x="1330" y="260" />
        <omgdi:waypoint x="1442" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0cpnbvk_di" bpmnElement="Flow_0cpnbvk">
        <omgdi:waypoint x="1305" y="568" />
        <omgdi:waypoint x="1415" y="568" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="1365" y="550" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0iua7vp_di" bpmnElement="Flow_0iua7vp">
        <omgdi:waypoint x="1280" y="593" />
        <omgdi:waypoint x="1280" y="690" />
        <omgdi:waypoint x="1390" y="690" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="1342" y="672" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1e09fhc_di" bpmnElement="Flow_1e09fhc">
        <omgdi:waypoint x="1600" y="568" />
        <omgdi:waypoint x="1623" y="568" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_061ua4b_di" bpmnElement="Flow_061ua4b">
        <omgdi:waypoint x="1673" y="568" />
        <omgdi:waypoint x="1750" y="568" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rokuir_di" bpmnElement="Flow_0rokuir">
        <omgdi:waypoint x="1850" y="568" />
        <omgdi:waypoint x="1930" y="568" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09p1m2g_di" bpmnElement="Flow_09p1m2g">
        <omgdi:waypoint x="2030" y="568" />
        <omgdi:waypoint x="2112" y="568" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04a47uz_di" bpmnElement="Flow_04a47uz">
        <omgdi:waypoint x="1465" y="568" />
        <omgdi:waypoint x="1500" y="568" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09sbk0y_di" bpmnElement="Flow_09sbk0y">
        <omgdi:waypoint x="1440" y="650" />
        <omgdi:waypoint x="1440" y="593" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0uu5ji9_di" bpmnElement="Flow_0uu5ji9">
        <omgdi:waypoint x="1460" y="242" />
        <omgdi:waypoint x="1460" y="158" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gnyqhd_di" bpmnElement="Flow_0gnyqhd">
        <omgdi:waypoint x="1478" y="140" />
        <omgdi:waypoint x="1530" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0lob1wg_di" bpmnElement="Flow_0lob1wg">
        <omgdi:waypoint x="1630" y="140" />
        <omgdi:waypoint x="1682" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1ll27c6_di" bpmnElement="TextAnnotation_1ll27c6">
        <omgdc:Bounds x="210" y="320" width="149.99265282131663" height="54.99363244514106" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1ojrepn_di" bpmnElement="TextAnnotation_1ojrepn">
        <omgdc:Bounds x="370" y="313" width="139.98824451410658" height="54.99363244514106" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0cn8vqe_di" bpmnElement="Association_0cn8vqe">
        <omgdi:waypoint x="297" y="400" />
        <omgdi:waypoint x="283" y="375" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_1dyivvl_di" bpmnElement="Association_1dyivvl">
        <omgdi:waypoint x="446" y="400" />
        <omgdi:waypoint x="434" y="368" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>
