<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1" exporter="Camunda Modeler" exporterVersion="5.32.0">
  <collaboration id="Collaboration_07r80ul">
    <participant id="Participant_0gt80yi" name="LLM Agent" processRef="Process_1" />
    <textAnnotation id="TextAnnotation_11c8avt">
      <text>Transaction MMSC</text>
    </textAnnotation>
    <textAnnotation id="TextAnnotation_1xucwfx">
      <text>procurement@company.com</text>
    </textAnnotation>
    <association id="Association_066o8jx" associationDirection="None" sourceRef="ServiceTask_4" targetRef="TextAnnotation_11c8avt" />
    <association id="Association_0hwk9u1" associationDirection="None" sourceRef="ServiceTask_5" targetRef="TextAnnotation_1xucwfx" />
  </collaboration>
  <process id="Process_1" isExecutable="true">
    <startEvent id="StartEvent_1" name="Material batch arrival">
      <outgoing>SequenceFlow_1</outgoing>
    </startEvent>
    <task id="ServiceTask_1" name="Retrieve storage locations for plant 1540">
      <extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="plant">1540</camunda:inputParameter>
        </camunda:inputOutput>
      </extensionElements>
      <incoming>SequenceFlow_1</incoming>
      <outgoing>SequenceFlow_2</outgoing>
    </task>
    <task id="ServiceTask_2" name="Identify unused storage locations">
      <incoming>SequenceFlow_2</incoming>
      <outgoing>SequenceFlow_3</outgoing>
    </task>
    <exclusiveGateway id="ExclusiveGateway_1" name="Empty location available?">
      <incoming>SequenceFlow_3</incoming>
      <outgoing>SequenceFlow_4</outgoing>
      <outgoing>SequenceFlow_5</outgoing>
    </exclusiveGateway>
    <task id="ServiceTask_3" name="Create new storage location &#34;Temporary Material Storage&#34;">
      <extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="storage_location_id">0001</camunda:inputParameter>
          <camunda:inputParameter name="description">Temporary Material Storage</camunda:inputParameter>
          <camunda:inputParameter name="plant">1540</camunda:inputParameter>
        </camunda:inputOutput>
      </extensionElements>
      <incoming>SequenceFlow_5</incoming>
      <outgoing>SequenceFlow_6</outgoing>
    </task>
    <exclusiveGateway id="Gateway_01a9ojg">
      <incoming>SequenceFlow_6</incoming>
      <incoming>SequenceFlow_4</incoming>
      <outgoing>Flow_148d11t</outgoing>
    </exclusiveGateway>
    <task id="ServiceTask_4" name="Move materials to storage location">
      <extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="material_id">MATERIAL_ID</camunda:inputParameter>
          <camunda:inputParameter name="storage_location_id">STORAGE_ID</camunda:inputParameter>
          <camunda:inputParameter name="plant">1540</camunda:inputParameter>
        </camunda:inputOutput>
      </extensionElements>
      <incoming>Flow_148d11t</incoming>
      <outgoing>SequenceFlow_7</outgoing>
    </task>
    <task id="ServiceTask_5" name="Notify procurement by email">
      <extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="email">procurement@company.com</camunda:inputParameter>
          <camunda:inputParameter name="content">Updated storage details for new materials in plant 1540.</camunda:inputParameter>
        </camunda:inputOutput>
      </extensionElements>
      <incoming>SequenceFlow_7</incoming>
      <outgoing>SequenceFlow_8</outgoing>
    </task>
    <sequenceFlow id="SequenceFlow_1" sourceRef="StartEvent_1" targetRef="ServiceTask_1" />
    <sequenceFlow id="SequenceFlow_2" sourceRef="ServiceTask_1" targetRef="ServiceTask_2" />
    <sequenceFlow id="SequenceFlow_3" sourceRef="ServiceTask_2" targetRef="ExclusiveGateway_1" />
    <sequenceFlow id="SequenceFlow_4" name="yes" sourceRef="ExclusiveGateway_1" targetRef="Gateway_01a9ojg">
      <conditionExpression xsi:type="tFormalExpression">${emptyLocationFound}</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="SequenceFlow_5" name="no" sourceRef="ExclusiveGateway_1" targetRef="ServiceTask_3">
      <conditionExpression xsi:type="tFormalExpression">${!emptyLocationFound}</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="SequenceFlow_6" sourceRef="ServiceTask_3" targetRef="Gateway_01a9ojg" />
    <sequenceFlow id="Flow_148d11t" sourceRef="Gateway_01a9ojg" targetRef="ServiceTask_4" />
    <sequenceFlow id="SequenceFlow_8" sourceRef="ServiceTask_5" targetRef="EndEvent_1" />
    <sequenceFlow id="SequenceFlow_7" sourceRef="ServiceTask_4" targetRef="ServiceTask_5" />
    <endEvent id="EndEvent_1" name="Process Completed">
      <incoming>SequenceFlow_8</incoming>
      <messageEventDefinition id="MessageEventDefinition_1luncyv" />
    </endEvent>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_07r80ul">
      <bpmndi:BPMNShape id="Participant_0gt80yi_di" bpmnElement="Participant_0gt80yi" isHorizontal="true">
        <omgdc:Bounds x="160" y="50" width="1190" height="250" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_StartEvent_1" bpmnElement="StartEvent_1">
        <omgdc:Bounds x="212" y="182" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="196" y="218" width="70" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1specrv_di" bpmnElement="ServiceTask_1">
        <omgdc:Bounds x="300" y="160" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1508dta_di" bpmnElement="ServiceTask_2">
        <omgdc:Bounds x="460" y="160" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_ExclusiveGateway_1" bpmnElement="ExclusiveGateway_1" isMarkerVisible="true">
        <omgdc:Bounds x="615" y="175" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="604" y="225" width="73" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1etcf9o_di" bpmnElement="ServiceTask_3">
        <omgdc:Bounds x="750" y="160" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_01a9ojg_di" bpmnElement="Gateway_01a9ojg" isMarkerVisible="true">
        <omgdc:Bounds x="915" y="175" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1v9bfcu_di" bpmnElement="ServiceTask_4">
        <omgdc:Bounds x="1012" y="160" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_05he4rp_di" bpmnElement="ServiceTask_5">
        <omgdc:Bounds x="1152" y="160" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0m3f0u6_di" bpmnElement="EndEvent_1">
        <omgdc:Bounds x="1292" y="182" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="1283" y="218" width="54" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_1" bpmnElement="SequenceFlow_1">
        <omgdi:waypoint x="248" y="200" />
        <omgdi:waypoint x="300" y="200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_2" bpmnElement="SequenceFlow_2">
        <omgdi:waypoint x="400" y="200" />
        <omgdi:waypoint x="460" y="200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_3" bpmnElement="SequenceFlow_3">
        <omgdi:waypoint x="560" y="200" />
        <omgdi:waypoint x="615" y="200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_4" bpmnElement="SequenceFlow_4">
        <omgdi:waypoint x="640" y="175" />
        <omgdi:waypoint x="640" y="120" />
        <omgdi:waypoint x="940" y="120" />
        <omgdi:waypoint x="940" y="175" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="805" y="102" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_5" bpmnElement="SequenceFlow_5">
        <omgdi:waypoint x="665" y="200" />
        <omgdi:waypoint x="750" y="200" />
        <bpmndi:BPMNLabel>
          <omgdc:Bounds x="701" y="182" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_6" bpmnElement="SequenceFlow_6">
        <omgdi:waypoint x="850" y="200" />
        <omgdi:waypoint x="915" y="200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_148d11t_di" bpmnElement="Flow_148d11t">
        <omgdi:waypoint x="965" y="200" />
        <omgdi:waypoint x="1012" y="200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_8" bpmnElement="SequenceFlow_8">
        <omgdi:waypoint x="1252" y="200" />
        <omgdi:waypoint x="1292" y="200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_SequenceFlow_7" bpmnElement="SequenceFlow_7">
        <omgdi:waypoint x="1112" y="200" />
        <omgdi:waypoint x="1152" y="200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_066o8jx_di" bpmnElement="Association_066o8jx">
        <omgdi:waypoint x="1051" y="160" />
        <omgdi:waypoint x="1039" y="121" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Association_0hwk9u1_di" bpmnElement="Association_0hwk9u1">
        <omgdi:waypoint x="1221" y="160" />
        <omgdi:waypoint x="1240" y="121" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_11c8avt_di" bpmnElement="TextAnnotation_11c8avt">
        <omgdc:Bounds x="982" y="80" width="100" height="41" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1xucwfx_di" bpmnElement="TextAnnotation_1xucwfx">
        <omgdc:Bounds x="1202" y="80" width="100" height="41" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>